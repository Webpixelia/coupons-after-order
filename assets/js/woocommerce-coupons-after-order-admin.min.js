document.addEventListener('DOMContentLoaded', function() {
    const validityTypeField = document.querySelectorAll('input[name="coupons_after_order_validity_type"]');
    const validityDaysField = document.getElementById('coupon-validity-days');
    const validityDateField = document.getElementById('coupon-validity-date');

    function updateFieldDisplay() {
        if (validityTypeField[0].checked) {
            validityDaysField.style.display = 'block';
            validityDateField.style.display = 'none';
            validityDaysField.setAttribute('required', 'required');
            validityDateField.removeAttribute('required');
        } else if (validityTypeField[1].checked) {
            validityDaysField.style.display = 'none';
            validityDateField.style.display = 'block';
            validityDaysField.removeAttribute('required');
            validityDateField.setAttribute('required', 'required');
        }
    }

    // Update the display on page load
    updateFieldDisplay();

    // Add an event handler for option changes
    validityTypeField.forEach(function(option) {
        option.addEventListener('change', function() {
            updateFieldDisplay();
        });
    });
});
